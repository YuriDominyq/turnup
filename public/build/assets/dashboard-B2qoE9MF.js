import{j as e,r as l,a as w,H as z}from"./app-D_TJLLqM.js";import{A as L,T as b,a as A}from"./app-layout-CrepH2Gl.js";import{C as m,a as R,b as S,c as x,B as v}from"./badge-izgOD7dj.js";import{P as F,T as E}from"./progress-CKU7fr35.js";import{U as H}from"./users-DgGsjAiR.js";import{B as c,c as g}from"./app-logo-icon-B7l2pyZt.js";import{R as N}from"./refresh-cw-DDhpYmNc.js";import{F as M}from"./filter-umnFB-xh.js";/* empty css            */import"./index-DU3koztZ.js";import"./index-cIUw4Tmf.js";import"./createLucideIcon-CaIJc6RG.js";function $(){return e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:e.jsx(L,{className:"h-6 w-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx(b,{size:"xl",weight:"bold",children:"Terminal Operations Dashboard"}),e.jsx(b,{size:"sm",weight:"normal",children:"Real-time monitoring and analytics for terminal operations"})]})]})})})}const y=({title:t,value:r,icon:a,progress:i})=>e.jsxs(m,{className:"rounded-2xl shadow-sm",children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(S,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.toLocaleString()}),i!==void 0&&e.jsx("div",{className:"mt-3",children:e.jsx(F,{value:i,className:"h-2"})})]})]});function B(){const[t,r]=l.useState({totalUsers:0,totalRoutes:0});l.useEffect(()=>{w.get("/api/admin/kpi").then(n=>{r({totalUsers:n.data.totalCommuters,totalRoutes:n.data.totalRoutes})}).catch(n=>console.error(n))},[]);const a=2e3,i=50,d=Math.round(t.totalUsers/a*100),u=Math.round(t.totalRoutes/i*100);return e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(y,{title:"Total Users",value:t.totalUsers,icon:H,progress:d}),e.jsx(y,{title:"Total Routes",value:t.totalRoutes,icon:E,progress:u})]})}const O=({logs:t,onClose:r})=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-[90%] max-w-2xl max-h-[80%] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Full System Logs"}),e.jsx("button",{className:"text-muted-foreground",onClick:r,children:"âœ•"})]}),e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${a.type==="login"||a.type==="login"?"bg-green-500 animate-pulse":a.type==="logout"?"bg-yellow-500":a.type==="error"?"bg-red-500 animate-pulse":a.type==="create"?"bg-blue-500 animate-pulse":a.type==="update"?"bg-indigo-500":a.type==="delete"?"bg-rose-500":"bg-muted-foreground"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:a.title}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:a.description})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(a.created_at).toLocaleString()})]},a.id))})]})});function P(){const[t,r]=l.useState("overview"),[a,i]=l.useState(!1),[d,u]=l.useState([]),[n,f]=l.useState(!1),[C,T]=l.useState(null),[k,j]=l.useState(!1),[D,U]=l.useState(!0),p=[{id:"overview",label:"Overview"},{id:"reports",label:"Reports"}],h=async()=>{try{const o=(await w.get("https://turnup-admin.com/api/system-logs")).data.systemLogs;o.length>0&&o[0].id!==C&&(f(!0),T(o[0].id),setTimeout(()=>f(!1),2e3)),u(o)}catch(s){console.error("Error fetching logs:",s)}finally{U(!1),i(!1)}},I=async()=>{i(!0),await h()};return l.useEffect(()=>{const s=setInterval(()=>{h()},5e3);return h(),()=>clearInterval(s)}),D?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(N,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading dashboard"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{children:e.jsx(x,{className:"p-4",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{role:"tablist","aria-label":"Super Admin Sections",className:"hidden sm:flex items-center gap-1 bg-muted p-1 rounded-lg",children:p.map(s=>e.jsx(c,{role:"tab","aria-selected":t===s.id,"aria-controls":`${s.id}-panel`,onClick:()=>r(s.id),size:"sm",variant:t===s.id?"default":"ghost",className:g("transition-all",t===s.id&&"bg-primary text-primary-foreground shadow-sm"),children:s.label},s.id))}),e.jsx("select",{className:"sm:hidden flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm",value:t,onChange:s=>r(s.target.value),"aria-label":"Select analytics section",children:p.map(s=>e.jsx("option",{value:s.id,children:s.label},s.id))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"hidden sm:inline-flex bg-green-500 text-white",children:"Live Updates"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:I,disabled:a,"aria-label":"Refresh data",children:e.jsx(N,{className:g("h-4 w-4",a&&"animate-spin")})}),e.jsxs(c,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden md:inline",children:"Filters"})]})]})]})})})}),e.jsxs("div",{role:"tabpanel",id:`${t}-panel`,"aria-labelledby":`${t}-tab`,children:[t==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(R,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(S,{className:"text-lg font-bold",children:"System Logs"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recent system events and activity logs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"outline",className:"gap-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-500 animate-pulse":"bg-green-500"}`}),"Real-time"]}),e.jsxs(c,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>j(!0),children:["View Full Logs",e.jsx(L,{className:"h-4 w-4"})]})]})]})}),e.jsx(x,{className:"pt-4",children:e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsx("div",{className:g("w-2 h-2 rounded-full flex-shrink-0",s.type==="login"?"bg-green-500 animate-pulse":s.type==="logout"?"bg-yellow-500":s.type==="error"?"bg-red-500 animate-pulse":s.type==="create"?"bg-blue-500 animate-pulse":s.type==="update"?"bg-indigo-500":s.type==="delete"?"bg-rose-500":"bg-muted-foreground")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.description})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(s.created_at).toLocaleString()})]},s.id))})})]})}),t!=="overview"&&e.jsx(m,{children:e.jsx(x,{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸš§"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Coming Soon"}),e.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["The ",p.find(s=>s.id===t)?.label," section is currently under development."]})]})})}),k&&e.jsx(O,{logs:d,onClose:()=>j(!1)})]})]})}const K=[{title:"Dashboard",href:"/admin/dashboard"}];function te(){return e.jsxs(A,{breadcrumbs:K,children:[e.jsx(z,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-8 rounded-xl p-4 lg:p-8 overflow-x-auto min-h-screen",children:[e.jsx($,{}),e.jsx(B,{}),e.jsx(P,{}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600/5 rounded-full blur-3xl animate-pulse delay-1000"}),"j"]})]})]})}export{te as default};
