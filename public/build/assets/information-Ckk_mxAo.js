import{r,j as s,H as D}from"./app-CCzn1ziS.js";import{d as w}from"./index-CmbQxstj.js";import{C as y,a as Q,b as S,c as F}from"./card-CxZyliYy.js";import{I as n}from"./input-DfRoonto.js";import{B as f}from"./app-logo-icon-13lGZpKH.js";import{S as U}from"./scroll-area-DvsgK14f.js";import{a as M,i as P,T as b,y as C}from"./app-layout-DHp3TSfD.js";/* empty css            */import"./index-DmxSdM9p.js";import"./index-BBO9rsNM.js";import"./index-BdQq_4o_.js";import"./createLucideIcon-CDMKrG4o.js";import"./users-C39DAeX3.js";const R=[{title:"FAQs",href:"/information"}];function re({faqs:L}){const[I,c]=r.useState(L),[u,m]=r.useState(""),[h,p]=r.useState(""),[x,g]=r.useState(""),[a,v]=r.useState(null),[i,E]=r.useState(""),[A,l]=r.useState(!1),[k,d]=r.useState(null),[H,j]=r.useState(""),T=I.filter(e=>e.question.toLowerCase().includes(i.toLowerCase())||e.answer.toLowerCase().includes(i.toLowerCase())||e.category.toLowerCase().includes(i.toLowerCase())||e.keywords?.toLowerCase().includes(i.toLowerCase())).sort((e,o)=>o.id-e.id),N=()=>{m(""),p(""),g(""),j(""),v(null)},z=()=>{if(!u.trim()||!h.trim()||!x.trim()){C.error("Please fill out all fields!");return}l(!0);const e={question:u.trim(),answer:h.trim(),category:x.trim()};a!==null?w.Inertia.put(route("faqs.update",a),e,{onSuccess:()=>{c(o=>o.map(t=>t.id===a?{...t,...e}:t)),d(a),N(),C.success("FAQ updated successfully!"),l(!1),setTimeout(()=>d(null),2e3)},onError:()=>l(!1)}):w.Inertia.post(route("faqs.store"),e,{onSuccess:o=>{const{faq:t}=o.props;t?(c(B=>[...B,t]),d(t.id),N(),C.success("FAQ added successfully!"),l(!1),setTimeout(()=>d(null),2e3)):l(!1)},onError:()=>l(!1)})},q=e=>{v(e.id),m(e.question),p(e.answer),g(e.category),j("")},K=e=>{confirm("Are you sure you want to delete this FAQ?")&&w.Inertia.delete(route("faqs.destroy",e.id),{onSuccess:()=>c(o=>o.filter(t=>t.id!==e.id))})};return s.jsxs(M,{breadcrumbs:R,children:[s.jsx(D,{title:"FAQs"}),s.jsxs("div",{className:"space-y-6 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:s.jsx(P,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx(b,{size:"xl",weight:"bold",children:"FAQs"}),s.jsx(b,{size:"sm",weight:"normal",className:"text-gray-500",children:"Manage frequently asked questions for the commuter chatbot"})]})]}),s.jsxs(y,{children:[s.jsx(Q,{children:s.jsx(S,{children:a!==null?"Edit FAQ":"Add New FAQ"})}),s.jsxs(F,{className:"space-y-2",children:[s.jsx(n,{placeholder:"Question",value:u,onChange:e=>m(e.target.value)}),s.jsx(n,{placeholder:"Answer",value:h,onChange:e=>p(e.target.value)}),s.jsx(n,{placeholder:"Category",value:x,onChange:e=>g(e.target.value)}),s.jsx(n,{placeholder:"Keywords (comma-separated)",value:H,onChange:e=>j(e.target.value)}),s.jsx(f,{onClick:z,disabled:A,children:A?a!==null?"Updating...":"Adding...":a!==null?"Update FAQ":"Add FAQ"})]})]}),s.jsx(n,{placeholder:"Search FAQs",value:i,onChange:e=>E(e.target.value),className:"mb-2"}),s.jsxs(y,{children:[s.jsx(Q,{children:s.jsx(S,{children:"FAQ List"})}),s.jsx(F,{children:s.jsx(U,{className:"h-64",children:T.map(e=>s.jsx(y,{className:`mb-2 p-3 transition-colors ${k===e.id?"bg-yellow-100":""}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e.question}),s.jsx("p",{children:e.answer}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Category: ",e.category]})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(f,{variant:"outline",size:"sm",onClick:()=>q(e),children:"Edit"}),s.jsx(f,{variant:"destructive",size:"sm",onClick:()=>K(e),children:"Delete"})]})]})},e.id))})})]})]})]})}export{re as default};
