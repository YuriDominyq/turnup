import{j as e,r as f,H as R}from"./app-d9SgxdQS.js";import{A as S,T as b}from"./app-layout-LWcGx1ZE.js";import{c as w,f as k,B as i}from"./app-logo-icon-CPYCTx_O.js";import{T as D,a as M,b as l}from"./tabs-_frZ-Ilg.js";import{C as g,a as N,b as y,c as C,B as u,d as z}from"./card-DYwXZ9vT.js";import{I as B}from"./input-uMQZdMB5.js";import{S as T}from"./search-BWMxfgXu.js";import{c as I}from"./createLucideIcon-C3SxUK1l.js";import{C as m}from"./clock-UGBvxiyS.js";import{C as L}from"./circle-check-WUjtMRGZ.js";import{U as P}from"./user-BIg3jQbs.js";import{M as H}from"./map-pin-BJKHSU_Q.js";import{C as h}from"./circle-alert-BtFyji7p.js";/* empty css            */import"./index-BkHP6GWz.js";import"./index-BvyCzCKY.js";import"./users-Pwk57gk4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],x=I("MessageSquare",V),_=k("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function O({className:s,variant:a,...r}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:w(_({variant:a}),s),...r})}function U({className:s,...a}){return e.jsx("div",{"data-slot":"alert-description",className:w("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}function d({title:s,value:a,subtitle:r,icon:n}){return e.jsxs(g,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(y,{className:"text-sm font-medium",children:s}),n]}),e.jsxs(C,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]})}function E({value:s,onChange:a}){return e.jsxs("div",{className:"mb-6 relative flex-1",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(B,{placeholder:"Search by commuter name, bus number, route, or issue...",value:s,onChange:a,className:"pl-10"})]})}function q({report:s}){const a=n=>{switch(n){case"critical":case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},r=n=>{switch(n){case"new":return"default";case"in-progress":return"secondary";case"resolved":return"outline";default:return"outline"}};return e.jsxs(g,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(N,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[e.jsx(u,{variant:a(s.severity),className:"uppercase",children:s.severity}),e.jsxs(u,{variant:r(s.status),children:[s.status==="new"&&e.jsx(x,{className:"h-3 w-3 mr-1"}),s.status==="in-progress"&&e.jsx(m,{className:"h-3 w-3 mr-1"}),s.status==="resolved"&&e.jsx(L,{className:"h-3 w-3 mr-1"}),s.status]}),e.jsx(u,{variant:"outline",children:s.category})]}),e.jsx(y,{className:"text-xl mb-2",children:s.subject}),e.jsx(z,{className:"text-base mb-4",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Reported by:"})," ",s.commuterName]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Route:"})," ",s.route]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Bus:"})," ",s.busNumber]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Incident:"})," ",s.incidentDate]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Contact:"})," ",s.commuterContact]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{children:s.timeAgo})]})]})]})})}),e.jsx(C,{children:e.jsxs("div",{className:"flex gap-2",children:[s.status==="new"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"sm",children:"Assign & Investigate"}),e.jsx(i,{size:"sm",variant:"outline",children:"Contact Commuter"}),e.jsx(i,{size:"sm",variant:"ghost",children:"Mark as Invalid"})]}),s.status==="in-progress"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"sm",children:"Mark as Resolved"}),e.jsx(i,{size:"sm",variant:"outline",children:"Add Update"}),e.jsx(i,{size:"sm",variant:"ghost",children:"View History"})]}),s.status==="resolved"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"sm",variant:"outline",children:"View Resolution"}),e.jsx(i,{size:"sm",variant:"ghost",children:"Reopen"})]})]})})]})}const F=[{title:"Commuter Problems",href:"/problems"}],o=[{id:1,commuterName:"Maria Santos",commuterContact:"maria.s@email.com",subject:"Driver was rude and refused to stop",description:"The driver of Bus #2847 was extremely rude when I asked him to wait for elderly passengers. He closed the doors and drove off while people were trying to board.",route:"Route 15A - Main Terminal to Downtown",busNumber:"#2847",incidentDate:"Oct 7, 2025 - 8:30 AM",severity:"high",status:"new",category:"Driver Behavior",timeAgo:"30 minutes ago"},{id:2,commuterName:"Juan Reyes",commuterContact:"+63 912 345 6789",subject:"Bus broke down mid-route, no assistance",description:"Bus #3021 broke down on Highway 12 and we were left stranded for over an hour. No backup bus was sent and the driver had no information to give us.",route:"Route 8 - North District Express",busNumber:"#3021",incidentDate:"Oct 7, 2025 - 7:15 AM",severity:"critical",status:"in-progress",category:"Vehicle Issue",timeAgo:"2 hours ago"},{id:3,commuterName:"Ana Lim",commuterContact:"ana.lim@email.com",subject:"Unsafe driving - speeding and sudden braking",description:"Driver was driving recklessly, speeding through traffic and making sudden stops that caused passengers to fall. Multiple people complained but he ignored us.",route:"Route 22 - East Side Loop",busNumber:"#1594",incidentDate:"Oct 6, 2025 - 6:45 PM",severity:"high",status:"new",category:"Safety Concern",timeAgo:"18 hours ago"},{id:4,commuterName:"Roberto Cruz",commuterContact:"+63 917 654 3210",subject:"Bus never showed up, missed appointment",description:"Waited for 2 hours at the scheduled stop but the bus never arrived. No notification or update was provided. I missed an important medical appointment.",route:"Route 5 - West District",busNumber:"N/A",incidentDate:"Oct 6, 2025 - 9:00 AM",severity:"medium",status:"resolved",category:"No Show",timeAgo:"1 day ago"},{id:5,commuterName:"Lisa Garcia",commuterContact:"l.garcia@email.com",subject:"Driver skipped multiple stops",description:"Driver skipped 4 scheduled stops despite passengers pressing the stop button. When confronted, he said he was running late and couldn't stop.",route:"Route 12 - Central Avenue",busNumber:"#4172",incidentDate:"Oct 5, 2025 - 5:30 PM",severity:"medium",status:"in-progress",category:"Service Quality",timeAgo:"2 days ago"}];function le(){const[s,a]=f.useState(""),[r,n]=f.useState("all"),p=(t=>r==="all"?t:t.filter(A=>A.status===r))(o).filter(t=>t.commuterName.toLowerCase().includes(s.toLowerCase())||t.subject.toLowerCase().includes(s.toLowerCase())||t.description.toLowerCase().includes(s.toLowerCase())),v=o.filter(t=>t.status==="new").length,c=o.filter(t=>t.severity==="critical").length,j=o.filter(t=>t.status==="in-progress").length;return e.jsxs(S,{breadcrumbs:F,children:[e.jsx(R,{title:"Commuter Problems"}),e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:e.jsx(h,{className:"h-6 w-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx(b,{size:"xl",weight:"bold",children:"Commuter Complaints"}),e.jsx(b,{size:"sm",weight:"normal",children:"Manage and respond to reports received from commuters"})]})]}),c>0&&e.jsxs(O,{variant:"destructive",className:"mb-6",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsxs(U,{children:[e.jsxs("strong",{children:[c," critical issue",c>1?"s":""]})," requiring immediate attention"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(d,{title:"New Reports",value:v,subtitle:"Awaiting review",icon:e.jsx(x,{className:"h-4 w-4 text-blue-500"})}),e.jsx(d,{title:"Critical Issues",value:c,subtitle:"Urgent action needed",icon:e.jsx(h,{className:"h-4 w-4 text-red-500"})}),e.jsx(d,{title:"In Progress",value:j,subtitle:"Being investigated",icon:e.jsx(m,{className:"h-4 w-4 text-yellow-500"})}),e.jsx(d,{title:"Avg Response Time",value:"4.2h",subtitle:"-15% from last week",icon:e.jsx(m,{className:"h-4 w-4 text-green-500"})})]}),e.jsx(E,{value:s,onChange:t=>a(t.target.value)}),e.jsx(D,{value:r,onValueChange:n,className:"mb-6",children:e.jsxs(M,{children:[e.jsxs(l,{value:"all",children:["All Reports (",o.length,")"]}),e.jsxs(l,{value:"new",children:["New (",v,")"]}),e.jsxs(l,{value:"in-progress",children:["In Progress (",j,")"]}),e.jsx(l,{value:"resolved",children:"Resolved"})]})}),e.jsxs("div",{className:"space-y-4",children:[p.map(t=>e.jsx(q,{report:t},t.id)),p.length===0&&e.jsxs(g,{className:"text-center py-12",children:[e.jsx(x,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No reports found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters"})]})]})]})]})}export{le as default};
