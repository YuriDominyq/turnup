import{r as t,j as e,H as q}from"./app-BK5h3122.js";import{d as k}from"./index-DsXPC75V.js";import{C as F,a as E,b as I,c as S}from"./card-BY3Wa759.js";import{I as h}from"./input-BuNY0S68.js";import{c as X,B as m}from"./app-logo-icon-hIu0GSCE.js";import{S as G}from"./scroll-area-BfbyZfZS.js";import{B as Q}from"./badge-BsA5_dyX.js";import{a as J,i as H,T as i,X as O,y as p}from"./app-layout-BxVVF3Vz.js";import{L as g}from"./label-DVm_YRoB.js";import{c as P}from"./createLucideIcon-B1frdm4Q.js";import{P as W}from"./plus-vpD1iscW.js";import{S as Y}from"./search-BYCbAtKp.js";import{T as Z}from"./trash-2-C3w7RjhK.js";/* empty css            */import"./index-DHODhgaU.js";import"./index-JkEI-MIb.js";import"./index-BdQq_4o_.js";import"./users-QhEe6nmv.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],M=P("Pen",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ae=P("Save",se),_=t.forwardRef(({className:j,...c},d)=>e.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",j),ref:d,...c}));_.displayName="Textarea";const te=[{title:"FAQs",href:"/information"}];function ve({faqs:j}){const[c,d]=t.useState(j),[y,f]=t.useState(""),[w,N]=t.useState(""),[v,b]=t.useState(""),[r,L]=t.useState(null),[o,B]=t.useState(""),[z,n]=t.useState(!1),[K,u]=t.useState(null),[T,C]=t.useState(""),A=c.filter(s=>s.question.toLowerCase().includes(o.toLowerCase())||s.answer.toLowerCase().includes(o.toLowerCase())||s.category.toLowerCase().includes(o.toLowerCase())||s.keywords?.toLowerCase().includes(o.toLowerCase())).sort((s,l)=>l.id-s.id),R=Array.from(new Set(c.map(s=>s.category))),x=()=>{f(""),N(""),b(""),C(""),L(null)},D=()=>{if(!y.trim()||!w.trim()||!v.trim()){p.error("Please fill out all fields!");return}n(!0);const s={question:y.trim(),answer:w.trim(),category:v.trim(),keywords:T.trim()};r!==null?k.Inertia.put(route("operator.faq.update",r),s,{onSuccess:()=>{d(l=>l.map(a=>a.id===r?{...a,...s}:a)),u(r),x(),p.success("FAQ updated successfully!"),n(!1),setTimeout(()=>u(null),2e3)},onError:()=>n(!1)}):k.Inertia.post(route("operator.faq.store"),s,{onSuccess:l=>{const{faq:a}=l.props;a?(d($=>[...$,a]),u(a.id),x(),p.success("FAQ added successfully!"),n(!1),setTimeout(()=>u(null),2e3)):n(!1)},onError:()=>n(!1)})},U=s=>{L(s.id),f(s.question),N(s.answer),b(s.category),C(s.keywords||""),window.scrollTo({top:0,behavior:"smooth"})},V=s=>{confirm("Are you sure you want to delete this FAQ?")&&k.Inertia.delete(route("operator.faq.destroy",s.id),{onSuccess:()=>{d(l=>l.filter(a=>a.id!==s.id)),p.success("FAQ deleted successfully!")}})};return e.jsxs(J,{breadcrumbs:te,children:[e.jsx(q,{title:"FAQs"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:e.jsx(H,{className:"h-6 w-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx(i,{size:"xl",weight:"bold",className:"text-gray-900 dark:text-gray-100",children:"FAQ Management"}),e.jsx(i,{size:"sm",className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage frequently asked questions for the commuter chatbot"})]})]}),e.jsxs(Q,{variant:"secondary",className:"text-sm px-3 py-1",children:[c.length," Total FAQs"]})]}),e.jsxs(F,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{className:"flex items-center gap-2",children:r!==null?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-5 w-5"}),"Edit FAQ"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-5 w-5"}),"Add New FAQ"]})}),r!==null&&e.jsxs(m,{variant:"ghost",size:"sm",onClick:x,children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})}),e.jsxs(S,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Question *"}),e.jsx(h,{placeholder:"Enter the question...",value:y,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Category *"}),e.jsx(h,{placeholder:"e.g., Routes, Fares, Schedule",value:v,onChange:s=>b(s.target.value),list:"categories"}),e.jsx("datalist",{id:"categories",children:R.map(s=>e.jsx("option",{value:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Answer *"}),e.jsx(_,{placeholder:"Enter the answer...",value:w,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Keywords (comma-separated)"}),e.jsx(h,{placeholder:"e.g., bus, train, payment, schedule",value:T,onChange:s=>C(s.target.value)}),e.jsx(i,{size:"xs",className:"text-gray-500 dark:text-gray-400",children:"Add keywords to improve search accuracy"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(m,{onClick:D,disabled:z,className:"px-6",children:[e.jsx(ae,{className:"h-4 w-4 mr-2 text-primary-foreground"}),z?r!==null?"Updating...":"Adding...":r!==null?"Update FAQ":"Add FAQ"]}),r!==null&&e.jsx(m,{variant:"outline",onClick:x,children:"Cancel"})]})]})]}),e.jsxs(F,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs(I,{children:["FAQ List (",A.length,")"]}),e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(h,{placeholder:"Search FAQs...",value:o,onChange:s=>B(s.target.value),className:"pl-10"})]})]})}),e.jsx(S,{className:"pt-6",children:A.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx(i,{size:"lg",weight:"medium",children:"No FAQs found"}),e.jsx(i,{size:"sm",className:"mt-1",children:o?"Try adjusting your search":"Add your first FAQ to get started"})]}):e.jsx(G,{className:"h-[600px] pr-4",children:e.jsx("div",{className:"space-y-3",children:A.map(s=>e.jsx(F,{className:`transition-all duration-300 hover:shadow-md ${K===s.id?"bg-blue-50 dark:bg-blue-950/30 border-blue-300 dark:border-blue-700 shadow-md":"border-gray-200 dark:border-gray-700"}`,children:e.jsx(S,{className:"p-5",children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{variant:"outline",className:"mt-0.5",children:s.category}),e.jsx("div",{className:"flex-1",children:e.jsx(i,{size:"base",weight:"bold",children:s.question})})]}),e.jsx(i,{size:"sm",children:s.answer}),s.keywords&&e.jsx("div",{className:"flex flex-wrap gap-1.5 pt-1",children:s.keywords.split(",").map((l,a)=>e.jsx(Q,{variant:"secondary",className:"px-2 py-0.5",children:l.trim()},a))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>U(s),className:"w-full",children:[e.jsx(M,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>V(s),className:"w-full",children:[e.jsx(Z,{className:"h-3.5 w-3.5 mr-1.5"}),"Delete"]})]})]})})},s.id))})})})]})]})]})}export{ve as default};
