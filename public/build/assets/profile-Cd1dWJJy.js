import{r as p,j as e,F as m,e as h,H as f,L as j}from"./app-C06O5J4D.js";import{H as u,S as g}from"./layout-CdVB7I8_.js";import{I as r}from"./input-error-_IleJ_W8.js";import{B as n}from"./app-logo-icon-DuvCb4eO.js";import{D as b,e as N,a as v,c as y,f as w,d as _,g as k}from"./dialog-CVC1NR31.js";import{I as t}from"./input-BmHt-gbZ.js";import{L as a}from"./label-B0ioi9Ti.js";import{a as C}from"./app-layout-Dfk1S_gH.js";import{U as P}from"./user-Ddm5-uc-.js";import{U as D}from"./upload-EbdlIOor.js";import{C as c}from"./circle-check-BQvghSsF.js";import{z as F}from"./transition-KQpVBZ2L.js";/* empty css            */import"./separator-C6OxacRc.js";import"./index-DCcoM3mn.js";import"./index-DAQRb9F0.js";import"./createLucideIcon-CepfS0eh.js";import"./users-hOQyziaV.js";function E(){const i=p.useRef(null);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(u,{title:"Delete account",description:"Delete your account and all of its resources"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Warning"}),e.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),e.jsxs(b,{children:[e.jsx(N,{asChild:!0,children:e.jsx(n,{variant:"destructive",children:"Delete account"})}),e.jsxs(v,{children:[e.jsx(y,{children:"Are you sure you want to delete your account?"}),e.jsx(w,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),e.jsx(m,{method:"delete",action:route("profile.destroy"),options:{preserveScroll:!0},onError:()=>i.current?.focus(),resetOnSuccess:!0,className:"space-y-6",children:({resetAndClearErrors:d,processing:s,errors:o})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(a,{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx(t,{id:"password",type:"password",name:"password",ref:i,placeholder:"Password",autoComplete:"current-password"}),e.jsx(r,{message:o.password})]}),e.jsxs(_,{className:"gap-2",children:[e.jsx(k,{asChild:!0,children:e.jsx(n,{variant:"secondary",onClick:()=>d(),children:"Cancel"})}),e.jsx(n,{variant:"destructive",disabled:s,asChild:!0,children:e.jsx("button",{type:"submit",children:"Delete account"})})]})]})})]})]})]})]})}const z=[{title:"Profile settings",href:"/settings/profile"}];function Q({mustVerifyEmail:i,status:d}){const{auth:s}=h().props;return e.jsxs(C,{breadcrumbs:z,children:[e.jsx(f,{title:"Profile settings"}),e.jsxs(g,{children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:e.jsx(u,{title:"Profile information",description:"Update your name and email address"})}),e.jsx(m,{method:"post",action:route("profile.update"),encType:"multipart/form-data",className:"space-y-6",children:({processing:o,recentlySuccessful:x,errors:l})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[e.jsx(a,{className:"text-base font-semibold",children:"Profile Photo"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Upload a photo to personalize your account"}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsx("div",{className:"relative",children:s.user.full_photo_url?e.jsx("img",{src:s.user.full_photo_url,alt:"Profile photo",className:"h-20 w-20 rounded-full object-cover ring-2 ring-border"}):e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted ring-2 ring-border",children:e.jsx(P,{className:"h-10 w-10 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(a,{htmlFor:"photo_url",className:"inline-flex cursor-pointer items-center gap-2 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),"Choose new photo"]}),e.jsx(t,{id:"photo_url",type:"file",className:"hidden",name:"photo_url",accept:"image/*"}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."})]})]}),e.jsx(r,{className:"mt-3",message:l.photo_url})]}),e.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[e.jsx(a,{className:"text-base font-semibold",children:"Personal Information"}),e.jsx("p",{className:"mt-1 mb-6 text-sm text-muted-foreground",children:"Your name and contact details"}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"first_name",children:"First Name"}),e.jsx(t,{id:"first_name",name:"first_name",defaultValue:s.user.first_name,autoComplete:"given-name",placeholder:"Enter first name",className:"transition-all focus:ring-2"}),e.jsx(r,{message:l.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"last_name",children:"Last Name"}),e.jsx(t,{id:"last_name",name:"last_name",defaultValue:s.user.last_name,autoComplete:"family-name",placeholder:"Enter last name",className:"transition-all focus:ring-2"}),e.jsx(r,{message:l.last_name})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(a,{htmlFor:"email",children:"Email Address"}),e.jsx(t,{id:"email",type:"email",defaultValue:s.user.email,name:"email",autoComplete:"username",placeholder:"Enter email address",className:"transition-all focus:ring-2"}),e.jsx(r,{message:l.email})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(a,{htmlFor:"phone",children:"Phone Number"}),e.jsx(t,{id:"phone",type:"tel",defaultValue:s.user.phone??"",name:"phone",autoComplete:"tel",placeholder:"Enter phone number",className:"transition-all focus:ring-2"}),e.jsx(r,{message:l.phone})]})]})]}),i&&s.user.email_verified_at===null&&e.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-900/50 dark:bg-amber-950/50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-amber-600 dark:text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Email verification required"}),e.jsxs("p",{className:"mt-1 text-sm text-amber-700 dark:text-amber-300",children:["Your email address is unverified."," ",e.jsx(j,{href:route("verification.send"),method:"post",as:"button",className:"font-semibold underline decoration-amber-400 underline-offset-4 transition-colors hover:text-amber-900 dark:hover:text-amber-100",children:"Click here to resend the verification email."})]}),d==="verification-link-sent"&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm font-medium text-green-700 dark:text-green-400",children:[e.jsx(c,{className:"h-4 w-4"}),"Verification link sent to your email"]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-muted/50 p-4",children:[e.jsx(F,{show:x,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveTo:"opacity-0",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-green-600 dark:text-green-500",children:[e.jsx(c,{className:"h-4 w-4"}),"Changes saved successfully"]})}),e.jsx(n,{disabled:o,className:"ml-auto px-8",size:"lg",children:o?"Saving...":"Save Changes"})]})]})})]}),e.jsx(E,{})]})]})}export{Q as default};
