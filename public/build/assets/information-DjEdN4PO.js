import{r,j as s,H as B}from"./app-C06O5J4D.js";import{d as j}from"./index-7EBrYuVJ.js";import{C as f,a as N,b as Q,c as F}from"./card-BoV-jmbq.js";import{I as d}from"./input-BmHt-gbZ.js";import{B as w}from"./app-logo-icon-DuvCb4eO.js";import{S as D}from"./scroll-area-uSpWV1Fs.js";import{a as U,i as M,T as S,y}from"./app-layout-Dfk1S_gH.js";/* empty css            */import"./index-DCcoM3mn.js";import"./index-DAQRb9F0.js";import"./index-BdQq_4o_.js";import"./createLucideIcon-CepfS0eh.js";import"./users-hOQyziaV.js";const P=[{title:"FAQs",href:"/information"}];function se({faqs:b}){const[I,c]=r.useState(b),[u,m]=r.useState(""),[h,p]=r.useState(""),[x,g]=r.useState(""),[a,C]=r.useState(null),[o,L]=r.useState(""),[A,l]=r.useState(!1),[E,n]=r.useState(null),H=I.filter(e=>e.question.toLowerCase().includes(o.toLowerCase())||e.answer.toLowerCase().includes(o.toLowerCase())||e.category.toLowerCase().includes(o.toLowerCase())).sort((e,i)=>i.id-e.id),v=()=>{m(""),p(""),g(""),C(null)},T=()=>{if(!u.trim()||!h.trim()||!x.trim()){y.error("Please fill out all fields!");return}l(!0);const e={question:u.trim(),answer:h.trim(),category:x.trim()};a!==null?j.Inertia.put(route("faqs.update",a),e,{onSuccess:()=>{c(i=>i.map(t=>t.id===a?{...t,...e}:t)),n(a),v(),y.success("FAQ updated successfully!"),l(!1),setTimeout(()=>n(null),2e3)},onError:()=>l(!1)}):j.Inertia.post(route("faqs.store"),e,{onSuccess:i=>{const{faq:t}=i.props;t?(c(q=>[...q,t]),n(t.id),v(),y.success("FAQ added successfully!"),l(!1),setTimeout(()=>n(null),2e3)):l(!1)},onError:()=>l(!1)})},k=e=>{C(e.id),m(e.question),p(e.answer),g(e.category)},z=e=>{confirm("Are you sure you want to delete this FAQ?")&&j.Inertia.delete(route("faqs.destroy",e.id),{onSuccess:()=>c(i=>i.filter(t=>t.id!==e.id))})};return s.jsxs(U,{breadcrumbs:P,children:[s.jsx(B,{title:"FAQs"}),s.jsxs("div",{className:"space-y-6 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:s.jsx(M,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx(S,{size:"xl",weight:"bold",children:"FAQs"}),s.jsx(S,{size:"sm",weight:"normal",className:"text-gray-500",children:"Manage frequently asked questions for the commuter chatbot"})]})]}),s.jsxs(f,{children:[s.jsx(N,{children:s.jsx(Q,{children:a!==null?"Edit FAQ":"Add New FAQ"})}),s.jsxs(F,{className:"space-y-2",children:[s.jsx(d,{placeholder:"Question",value:u,onChange:e=>m(e.target.value)}),s.jsx(d,{placeholder:"Answer",value:h,onChange:e=>p(e.target.value)}),s.jsx(d,{placeholder:"Category",value:x,onChange:e=>g(e.target.value)}),s.jsx(w,{onClick:T,disabled:A,children:A?a!==null?"Updating...":"Adding...":a!==null?"Update FAQ":"Add FAQ"})]})]}),s.jsx(d,{placeholder:"Search FAQs",value:o,onChange:e=>L(e.target.value),className:"mb-2"}),s.jsxs(f,{children:[s.jsx(N,{children:s.jsx(Q,{children:"FAQ List"})}),s.jsx(F,{children:s.jsx(D,{className:"h-64",children:H.map(e=>s.jsx(f,{className:`mb-2 p-3 transition-colors ${E===e.id?"bg-yellow-100":""}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e.question}),s.jsx("p",{children:e.answer}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Category: ",e.category]})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(w,{variant:"outline",size:"sm",onClick:()=>k(e),children:"Edit"}),s.jsx(w,{variant:"destructive",size:"sm",onClick:()=>z(e),children:"Delete"})]})]})},e.id))})})]})]})]})}export{se as default};
