import{j as e,r as l,a as F,H as U}from"./app-Cxtxw2cI.js";import{A as y,T as w,a as E}from"./app-layout-BJw4BuEO.js";import{B as j,C as u,a as L,b as C,c as p}from"./card-DJeqX268.js";import{B as r,c as f}from"./app-logo-icon-BctvqlJK.js";import{F as T,D as H}from"./filter-BaduZL6h.js";import{R as v}from"./refresh-cw-BGqEDycd.js";import{T as D,P as B}from"./progress-BE8vU_Y7.js";import{U as O}from"./users-DsG74-bN.js";import{C as P}from"./car-CLGjh9xv.js";import{C as V}from"./clock--lpfiQm-.js";/* empty css            */import"./index-xdhAzXXp.js";import"./index-DegNB7mn.js";import"./createLucideIcon-D2EyYpoX.js";function M(){return e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-primary rounded-xl",children:e.jsx(y,{className:"h-6 w-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx(w,{size:"xl",weight:"bold",children:"Terminal Operations Dashboard"}),e.jsx(w,{size:"sm",weight:"normal",children:"Real-time monitoring and analytics for terminal operations"})]})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsxs(j,{className:"bg-primary text-primary-foreground",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full mr-2 animate-pulse"}),"Live Data"]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(T,{className:"h-4 w-4"}),"Filter"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4"}),"Export"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(v,{className:"h-4 w-4"}),"Refresh"]})]})]})}const m={totalUsers:1234,totalDrivers:567,activeTerminals:15,avgResponseTime:2.4},x=({title:t,value:i,icon:a,trend:n,trendValue:d,progress:c})=>e.jsxs(u,{className:"rounded-2xl shadow-sm",children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(C,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.toLocaleString()}),n&&d&&e.jsxs("p",{className:"text-xs mt-1",children:[e.jsxs("span",{className:`inline-flex items-center ${n==="up"?"text-gray-600":"text-red=600"}`,children:[e.jsx(D,{className:`h-3 w-3 mr-1 ${n==="down"?"rotate-180":""}`}),d]})," ","from last month"]}),c!==void 0&&e.jsx("div",{className:"mt-3",children:e.jsx(B,{value:c,className:"h-2"})})]})]});function _(){return e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(x,{title:"Total Users",value:m.totalUsers,icon:O,trend:"up",trendValue:"+12%",progress:75}),e.jsx(x,{title:"Total Drivers",value:m.totalDrivers,icon:P,trend:"up",trendValue:"+8%",progress:80}),e.jsx(x,{title:"Active Terminals",value:m.activeTerminals,icon:D,trend:"up",trendValue:"+2%",progress:85}),e.jsx(x,{title:"Avg Response Time",value:`${m.avgResponseTime}s`,icon:V,trend:"down",trendValue:"-15%",progress:95})]})}const K=({logs:t,onClose:i})=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg w-[90%] max-w-2xl max-h-[80%] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Full System Logs"}),e.jsx("button",{className:"text-muted-foreground",onClick:i,children:"âœ•"})]}),e.jsx("div",{className:"space-y-2",children:t.map(a=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${a.type==="login"||a.type==="login"?"bg-green-500 animate-pulse":a.type==="logout"?"bg-yellow-500":a.type==="error"?"bg-red-500 animate-pulse":a.type==="create"?"bg-blue-500 animate-pulse":a.type==="update"?"bg-indigo-500":a.type==="delete"?"bg-rose-500":"bg-muted-foreground"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:a.title}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:a.description})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(a.created_at).toLocaleString()})]},a.id))})]})});function q(){const[t,i]=l.useState("overview"),[a,n]=l.useState(!1),[d,c]=l.useState([]),[S,b]=l.useState(!1),[R,k]=l.useState(null),[z,N]=l.useState(!1),[I,A]=l.useState(!0),h=[{id:"overview",label:"Overview"},{id:"checkins",label:"Check-ins"},{id:"terminals",label:"Terminals"},{id:"drivers",label:"Drivers"},{id:"reports",label:"Reports"}],g=async()=>{try{const o=(await F.get("https://turnup-admin.com/api/system-logs")).data.systemLogs;o.length>0&&o[0].id!==R&&(b(!0),k(o[0].id),setTimeout(()=>b(!1),2e3)),c(o)}catch(s){console.error("Error fetching logs:",s)}finally{A(!1),n(!1)}},$=async()=>{n(!0),await g()};return l.useEffect(()=>{const s=setInterval(()=>{g()},5e3);return g(),()=>clearInterval(s)}),I?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(v,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading dashboard"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(u,{children:e.jsx(p,{className:"p-4",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{role:"tablist","aria-label":"Super Admin Sections",className:"hidden sm:flex items-center gap-1 bg-muted p-1 rounded-lg",children:h.map(s=>e.jsx(r,{role:"tab","aria-selected":t===s.id,"aria-controls":`${s.id}-panel`,onClick:()=>i(s.id),size:"sm",variant:t===s.id?"default":"ghost",className:f("transition-all",t===s.id&&"bg-primary text-primary-foreground shadow-sm"),children:s.label},s.id))}),e.jsx("select",{className:"sm:hidden flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm",value:t,onChange:s=>i(s.target.value),"aria-label":"Select analytics section",children:h.map(s=>e.jsx("option",{value:s.id,children:s.label},s.id))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"hidden sm:inline-flex bg-green-500 text-white",children:"Live Updates"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:$,disabled:a,"aria-label":"Refresh data",children:e.jsx(v,{className:f("h-4 w-4",a&&"animate-spin")})}),e.jsxs(r,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden md:inline",children:"Filters"})]})]})]})})})}),e.jsxs("div",{role:"tabpanel",id:`${t}-panel`,"aria-labelledby":`${t}-tab`,children:[t==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs(u,{children:[e.jsx(L,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{className:"text-lg font-bold",children:"System Logs"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recent system events and activity logs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{variant:"outline",className:"gap-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${S?"bg-green-500 animate-pulse":"bg-green-500"}`}),"Real-time"]}),e.jsxs(r,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>N(!0),children:["View Full Logs",e.jsx(y,{className:"h-4 w-4"})]})]})]})}),e.jsx(p,{className:"pt-4",children:e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsx("div",{className:f("w-2 h-2 rounded-full flex-shrink-0",s.type==="login"?"bg-green-500 animate-pulse":s.type==="logout"?"bg-yellow-500":s.type==="error"?"bg-red-500 animate-pulse":s.type==="create"?"bg-blue-500 animate-pulse":s.type==="update"?"bg-indigo-500":s.type==="delete"?"bg-rose-500":"bg-muted-foreground")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.description})]}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(s.created_at).toLocaleString()})]},s.id))})})]})}),t!=="overview"&&e.jsx(u,{children:e.jsx(p,{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-4xl",children:"ðŸš§"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Coming Soon"}),e.jsxs("p",{className:"text-sm text-muted-foreground max-w-md",children:["The ",h.find(s=>s.id===t)?.label," section is currently under development."]})]})})}),z&&e.jsx(K,{logs:d,onClose:()=>N(!1)})]})]})}const G=[{title:"Dashboard",href:"/admin/dashboard"}];function de(){return e.jsxs(E,{breadcrumbs:G,children:[e.jsx(U,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-8 rounded-xl p-4 lg:p-8 overflow-x-auto min-h-screen",children:[e.jsx(M,{}),e.jsx(_,{}),e.jsx(q,{}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600/5 rounded-full blur-3xl animate-pulse delay-1000"}),"j"]})]})]})}export{de as default};
